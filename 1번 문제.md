## (1) 동시에 같은 `DB Table row` 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

<br>

DBMS에서는 해당 문제를 해결하기 위해 **동시성 제어 기법**을 제공합니다. 

<br>

### 동시성 제어(Concurrency Control)

동시성 제어란 동시에 실행되는 여러 개의 트랜잭션이 작업을 성공적으로 마칠 수 있도록 트랜잭션의 실행 순서를 제어하는 기법 입니다.

<br>

### 트랜잭션(Transaction)

트랜잭션은 DBMS에서 데이터를 다루는 논리적 작업의 단위를 뜻합니다. DB에 Update, Insert 등의 작업을 할 때 하나의 트랜잭션으로 묶어 실행시킬 수 있습니다.

예를 들어, 제 계좌에서 돈을 빼서 친구의 계좌에 돈을 넣는다면 총 2번의 작업이 실행됩니다. 제 계좌에서 돈을 출금하는 것과, 친구의 계좌에 돈을 입금하는 것이죠. 하지만 이 두 작업을 트랜잭션으로 묶어 하나의 작업으로 실행시킬 수 있습니다.


<br>

해당 상황에서 Update 쿼리부터 Insert 쿼리까지 한 트랜잭션이 실행되는 동안 해당 데이터에 대해 다른 트랜잭션에서 접근하지 못하도록 잠금을 걸 수 있습니다. 

이 방법은 공유 자원에 대해 동시 업데이트를 방지할 수 있지만 만약 영화관이나 비행기의 좌석같이 자원이 한정되어 있다면 사람들이 서비스를 이용하는데 불편함을 느낄 수 있습니다. 또한 데드락을 발생시킬 수 있습니다.

<br>

### 데드락(Deadlock, 교착상태)

데드락은 두 개 이상의 트랜잭션이 각각 자신의 데이터에 락을 걸고 상대방 데이터에 대해 락을 요청하여 무한정 대기에 빠지는 상태를 말합니다.

데드락을 예방하기 위해서 timestamp를 확인해 더 오래된 트랜잭션을 기다리게 하는 방법 등이 있습니다. 



